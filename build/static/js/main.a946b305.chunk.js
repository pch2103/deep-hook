(this["webpackJsonpdeep-hook"]=this["webpackJsonpdeep-hook"]||[]).push([[0],{125:function(e,t,a){e.exports=a(166)},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=(a(130),a(113)),i=a(227),o=a(218),s=a(8),m=a(6),u=a(199),d=a(206),p=a(207),E=a(208),g=a(226),b=a(109),f=a.n(b),h=a(42),v=a(3);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var x=r.a.createElement("g",{id:"AppLogoDark",transform:"translate(-300.304 -80.868)"},r.a.createElement("path",{id:"Path_66","data-name":"Path 66",d:"M350.053,83.378a2.424,2.424,0,0,1-.037.36,2.476,2.476,0,1,0-1.145,1.675l14.077,8.127a2.444,2.444,0,0,1,1.181-2.036ZM347.6,84.9a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,347.6,84.9Z",transform:"translate(-27.051 0)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_67","data-name":"Path 67",d:"M305.21,140.847a2.436,2.436,0,0,1-.04.391,2.381,2.381,0,0,0-1.235-2.559V125.047l-2.353,1.359v12.273h0a2.445,2.445,0,1,0,2.47,4.217h0l4.926,2.843v-2.717Zm-2.451,1.552a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,302.759,142.4Z",transform:"translate(0 -26.649)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_68","data-name":"Path 68",d:"M372.219,151.7h0v-5.144l-2.353,1.359v3.692a2.38,2.38,0,0,0-1.323,2.593,2.464,2.464,0,0,1-.033-.331l-14,8.083a2.431,2.431,0,0,1,1.19,2.03l14.008-8.087h0a2.428,2.428,0,0,0,1.249.354,2.447,2.447,0,0,0,1.262-4.548Zm-1.262,3.673a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,370.957,155.373Z",transform:"translate(-32.698 -39.623)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_69","data-name":"Path 69",d:"M333.228,175.64a2.432,2.432,0,0,0-1.268.363l-10.642-6.144v2.717l9.46,5.462a2.384,2.384,0,0,1,.038-.36,2.451,2.451,0,1,0,2.412-2.038Zm0,4.034a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,333.228,179.675Z",transform:"translate(-12.676 -53.681)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_70","data-name":"Path 70",d:"M319.292,89.224a2.432,2.432,0,0,1-1.19-2.03L304.026,95.32h0a2.427,2.427,0,0,0-1.268-.363,2.446,2.446,0,0,0-1.177,4.594h0v4.409l2.353-1.359V99.551a2.446,2.446,0,0,0,1.278-2.14c0-.019-.005-.036-.006-.055ZM302.759,98.99a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,302.759,98.99Z",transform:"translate(0 -3.816)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_71","data-name":"Path 71",d:"M394.9,109.212a2.454,2.454,0,1,0-3.631,2.14V124.3l2.353-1.359V111.352h0A2.446,2.446,0,0,0,394.9,109.212Zm-2.454,1.58a1.58,1.58,0,1,1,1.58-1.58A1.581,1.581,0,0,1,392.446,110.792Z",transform:"translate(-54.101 -15.617)",fill:"#504e4e"}),r.a.createElement("path",{id:"Path_72","data-name":"Path 72",d:"M342.077,120.684H332.5l2.637-4.567,7.132,4.118c.038-.069.071-.141.115-.206l-7.129-4.116,2.637-4.567,4.8,8.316c.057-.056.122-.1.184-.152l-4.85-8.4,4.867-8.428c-.061-.053-.122-.1-.177-.163l-4.824,8.356-2.637-4.567,7.18-4.146c-.042-.065-.076-.137-.112-.207l-7.185,4.148-2.637-4.567h9.654a2.357,2.357,0,0,1-.067-.235h-9.723L327.5,92.875c-.076.026-.152.053-.23.072l4.824,8.356h-5.274V93.008c-.04,0-.077.012-.117.012s-.078-.01-.117-.012V101.3h-5.274l4.824-8.356c-.079-.019-.155-.046-.23-.072l-4.866,8.427h-9.723c-.016.081-.044.157-.067.235H320.9l-2.637,4.567-7.186-4.149c-.036.07-.07.141-.113.207l7.181,4.146-2.637,4.567-4.825-8.356c-.055.059-.116.11-.177.163l4.866,8.429-4.878,8.448c.061.052.123.1.179.161l4.835-8.373,2.637,4.567-7.193,4.153c.043.065.076.137.113.207l7.2-4.156,2.637,4.567h-9.664a2.37,2.37,0,0,1,.073.235h9.727l4.866,8.428a2.392,2.392,0,0,1,.23-.072l-4.824-8.356h5.274v8.3c.04,0,.077-.012.117-.012s.078.01.117.012v-8.3h5.274l-4.824,8.356a2.387,2.387,0,0,1,.23.072l4.866-8.428H342A2.354,2.354,0,0,1,342.077,120.684Zm-26.43-9.573,2.7-4.684,8.113,4.684-8.114,4.684Zm10.937,9.573h-5.409l-2.7-4.685,8.114-4.685Zm0-9.777-8.114-4.684,2.7-4.685h5.409Zm11.172.2-2.7,4.685-8.114-4.685,8.114-4.684Zm-10.937-9.573h5.41l2.7,4.684-8.114,4.684Zm5.41,19.146h-5.41v-9.369L334.932,116Z",transform:"translate(-6.149 -7.243)",fill:"#504e4e"})),y=function(e){var t=e.svgRef,a=e.title,n=j(e,["svgRef","title"]);return r.a.createElement("svg",O({width:40.495,height:46,viewBox:"0 0 40.495 46",ref:t},n),a?r.a.createElement("title",null,a):null,x)},k=r.a.forwardRef((function(e,t){return r.a.createElement(y,O({svgRef:t},e))})),N=(a.p,a(201)),w=a(203),S=a(204),C=a(205),P=a(225),T=a(71),L=a.n(T),A=Object(u.a)((function(){return{list:{width:250},fullList:{width:"auto"}}})),U=function(e){var t=e.drawer,a=e.toggleDrawer,n=e.menuTextAndLink,c=A();return r.a.createElement(P.a,{open:t,onClose:a(!1)},r.a.createElement("div",{className:c.list,role:"presentation",onClick:a(!1),onKeyDown:a(!1)},r.a.createElement(N.a,null,n.map((function(e,t){return r.a.createElement(w.a,{key:t,button:!0,to:e.link,component:s.c},r.a.createElement(S.a,null,e.icon||r.a.createElement(L.a,null)),r.a.createElement(C.a,{primary:e.text}))})))))},I=a(222),W=a(209),Z=a(35),B={isLoading:!1,isLoggedIn:null,currentUser:null},D=function(e,t){switch(t.type){case"LOADING":return Object(Z.a)({},e,{isLoading:!0});case"SET_AUTHORIZED":return Object(Z.a)({},e,{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(Z.a)({},e,{isLoggedIn:!1});case"LOGOUT":return Object(Z.a)({},B,{isLoggedIn:!1});default:return e}},F=Object(n.createContext)(),H=function(e){var t=e.children,a=Object(n.useReducer)(D,B,void 0);return r.a.createElement(F.Provider,{value:a},t)},_=a(82),G=a.n(_),R=a(107),M=a.n(R),q=a(106),V=a.n(q),z=a(108),J=a.n(z),Y=a(31),K=function(e){var t=Object(Y.parse)(e),a=t.page?Number(t.page):1;return{currentPage:a,offset:10*a-10}},Q=[{text:"To Home",link:"/",icon:r.a.createElement(G.a,null)},{text:"Sing In",link:"/login",icon:r.a.createElement(L.a,null)},{text:"Sing Up",link:"/register",icon:r.a.createElement(V.a,null)}],X=a(228),$=Object(u.a)((function(e){return{root:{flexGrow:1},tabItem:{height:60,"&:hover":{background:"rgba(255, 255, 255, 0.18)",transition:"background .3s",opacity:1},"&:focus":{background:"rgba(0, 0, 0, 0.07)",opacity:1}},logo:{marginRight:e.spacing(1)},nav:{flexGrow:1},hide:{display:"none"},iconSmall:{width:e.spacing(3),height:e.spacing(3)}}})),ee=function(){var e=$(),t=Object(n.useContext)(F),a=Object(m.a)(t,1)[0],c=Object(n.useState)(!1),l=Object(m.a)(c,2),i=l[0],o=l[1],u=Object(h.g)(),b=a.isLoggedIn?function(e){var t=e.currentUser;return[{text:"To Home",link:"/",icon:r.a.createElement(G.a,null)},{text:"New Post",link:"/articles/new",icon:r.a.createElement(M.a,null)},{text:"Settings",link:"/settings",icon:r.a.createElement(J.a,null)},{text:"User: "+t.username,link:"/profiles/"+t.username,icon:"",avatar:t.image}]}(a):Q,O=b.map((function(e){return e.link})).includes(u.pathname)?u.pathname:"/",j=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(e)}};return r.a.createElement("div",null,r.a.createElement(U,{drawer:i,toggleDrawer:j,menuTextAndLink:b}),r.a.createElement(d.a,{position:"static"},r.a.createElement(p.a,null,r.a.createElement(g.a,{smUp:!0},r.a.createElement(E.a,{edge:"start",className:Object(v.a)(e.menuButton,i&&e.hide),color:"inherit","aria-label":"open drawer",onClick:j(!0)},r.a.createElement(f.a,null))),r.a.createElement(s.c,{to:"/",exact:!0},r.a.createElement(k,null)),r.a.createElement(g.a,{xsDown:!0},r.a.createElement(I.a,{value:O,"aria-label":"disabled tabs example",centered:!0,className:e.root},b.map((function(t,a){var n=void 0===t.avatar?t.icon:r.a.createElement(X.a,{alt:"User",src:t.avatar,className:e.iconSmall});return r.a.createElement(W.a,{key:a,icon:n,label:t.text,to:t.link,value:t.link,component:s.c,className:e.tabItem})})))))))},te=a(110),ae=a.n(te),ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(n.useState)((function(){return localStorage.getItem(e)||t})),r=Object(m.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){localStorage.setItem(e,c)}),[c,e]),[c,l]},re=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),i=Object(m.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(null),d=Object(m.a)(u,2),p=d[0],E=d[1],g=Object(n.useState)({}),b=Object(m.a)(g,2),f=b[0],h=b[1],v=ne("token"),O=Object(m.a)(v,1)[0],j=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(e),c(!0)}),[]);return Object(n.useEffect)((function(){var t=!1,a=Object(Z.a)({},f,{},{headers:{authorization:O?"Token ".concat(O):""}});if(r)return ae()("https://conduit.productionready.io/api"+e,a).then((function(e){t||(c(!1),s(e.data))})).catch((function(e){t||(c(!1),E(e.response.data))})),function(){t=!0}}),[r,f,O,e]),[{isLoading:r,response:o,error:p},j]},ce=a(59),le=a(211),ie=a(213),oe=a(212),se=a(60),me=a(231),ue=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(2),"& > *":{margin:e.spacing(.5)}}}})),de=function(e){var t=e.tags,a=ue();return r.a.createElement("div",{className:a.root},t.map((function(e){return r.a.createElement(me.a,{variant:"outlined",clickable:!0,key:e,to:"/tags/".concat(e),component:s.b,label:e})})))},pe=a(210),Ee=a(111),ge=a.n(Ee),be=Object(u.a)((function(e){return{button:{margin:e.spacing(1)}}})),fe=function(e){var t=e.isFavorited,a=e.favoritesCount,n=e.articleSlug,c=be(),l="/articles/".concat(n,"/favorite"),i=re(l),o=Object(m.a)(i,2),s=o[0].response,u=o[1],d=s?s.article.favoritesCount:a,p=s?s.article.favorited:t;return r.a.createElement(pe.a,{onClick:function(e){e.preventDefault(),u({method:p?"delete":"post"})},variant:p?"contained":"outlined",color:"primary",size:"small",className:c.button,startIcon:r.a.createElement(ge.a,null)},d)},he=Object(u.a)((function(e){var t;return{root:{minWidth:275,padding:e.spacing(2),marginBottom:e.spacing(2)},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},avatar:(t={},Object(ce.a)(t,e.breakpoints.up("sm"),{width:e.spacing(7),height:e.spacing(7)}),Object(ce.a)(t,e.breakpoints.down("xs"),{width:e.spacing(4),height:e.spacing(4)}),t),likedName:{width:"100%",display:"flex",justifyContent:"space-between"},like:{flexShrink:0}}})),ve=function(e){var t=e.articles,a=he();return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement(le.a,{className:a.root,variant:"outlined",key:t},r.a.createElement(oe.a,{container:!0,spacing:1},r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(s.b,{to:"/profiles/".concat(e.author.username)},r.a.createElement(X.a,{alt:"Author_Link",src:e.author.image,className:a.avatar}))),r.a.createElement(oe.a,{item:!0,xs:10},r.a.createElement("div",{className:a.likedName},r.a.createElement(se.a,{variant:"h5"},r.a.createElement(ie.a,{to:"/profiles/".concat(e.author.username),color:"inherit",component:s.b},e.author.username)),r.a.createElement("div",{className:a.like},r.a.createElement(fe,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,articleSlug:e.slug}))),r.a.createElement(se.a,{variant:"caption"},e.createdAt),r.a.createElement(se.a,{variant:"h5"},r.a.createElement(ie.a,{to:"/articles/".concat(e.slug),component:s.b},e.title)),r.a.createElement("p",{className:a.secondaryText},e.description),r.a.createElement("span",{className:a.secondaryText},"Read more..."),r.a.createElement(de,{tags:e.tagList})),r.a.createElement(oe.a,{item:!0,xs:1})))})))},Oe=a(221),je=a(215),xe=a(214),ye=a(74),ke=Object(u.a)((function(e){return{root:{listStyleType:"none",margin:e.spacing(.5),display:"inline-flex"},link:{color:e.palette.text.secondary,"&:hover":{textDecoration:"none"}},rounded:{color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,"&:hover":{background:"rgba(255, 255, 255, 0.30)",transition:"background .2s",opacity:1}},selected:{color:e.palette.background.paper,backgroundColor:e.palette.primary.main}}})),Ne=function(e){var t=e.page,a=e.currentPage,n=e.url,c=ke(),l=t===a?c.selected:c.rounded;return r.a.createElement(ie.a,{className:c.link,to:"".concat(n,"?page=").concat(t),component:s.b},r.a.createElement("li",{className:c.root},r.a.createElement(X.a,{variant:"rounded",className:l},t)))},we=function(e){var t=e.total,a=e.limit,n=e.url,c=e.currentPage,l=Math.ceil(t/a),i=Object(ye.a)(Array(l)).map((function(e,t){return t+1}));return r.a.createElement("ul",{style:{padding:0}},i.map((function(e){return r.a.createElement(Ne,{page:e,currentPage:c,url:n,key:e})})))},Se=a(115),Ce=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(2),"& > *":{margin:e.spacing(.5)}}}})),Pe=function(){var e=re("/tags"),t=Object(m.a)(e,2),a=t[0],c=a.isLoading,l=a.response,i=a.error,o=t[1],u=Ce();return Object(n.useEffect)((function(){o()}),[o]),r.a.createElement(Se.a,{className:u.root},c&&r.a.createElement(xe.a,{disableShrink:!0}),i&&r.a.createElement("div",null,"Error..."),!c&&l&&r.a.createElement("div",{className:u.root},l.tags.map((function(e){return r.a.createElement(me.a,{avatar:r.a.createElement(X.a,null,Object(ye.a)(e.toUpperCase()).slice(0,2)),variant:"outlined",clickable:!0,key:e,to:"/tags/".concat(e),component:s.b,label:e})}))))},Te=a(5),Le=Object(u.a)((function(e){return{root:{marginBottom:e.spacing(2)},tabs:{borderBottom:"1px solid ".concat(e.palette.divider)}}})),Ae=Object(Te.a)((function(e){return{indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > div ":{maxWidth:40,maxHeight:1,width:"100%",backgroundColor:e.palette.primary.main}}}}))((function(e){return r.a.createElement(I.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("div",null)}}))})),Ue=function(e){var t=e.tagName,a=Le(),c=Object(h.g)(),l=Object(n.useContext)(F),i=Object(m.a)(l,1)[0];return r.a.createElement("div",{className:a.root},r.a.createElement(Ae,{value:c.pathname,"aria-label":"disabled tabs example",className:a.tabs},i.currentUser&&r.a.createElement(W.a,{label:"Your feed",to:"/feed",value:"/feed",component:s.c}),r.a.createElement(W.a,{label:"Global feed",to:"/",exact:!0,value:"/",component:s.c}),t&&r.a.createElement(W.a,{label:t,to:"/tags/".concat(t),value:"/tags/".concat(t),component:s.c})))},Ie=a(229),We=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{width:"100%",padding:t.spacing(4),backgroundColor:t.palette.action.disabledBackground,textAlign:"center"},content:{marginTop:t.spacing(4)},subheader:{color:t.palette.primary.main}}})),Ze=Object(Ie.a)()((function(e){var t=K(e.location.search),a=t.currentPage,c=t.offset,l=e.width,i=We(),o=Object(Y.stringify)({limit:10,offset:c}),s=e.match.url,u="/articles?".concat(o),d=re(u),p=Object(m.a)(d,2),E=p[0],g=E.isLoading,b=E.response,f=E.error,h=p[1];Object(n.useEffect)((function(){h()}),[h,a,l]);var v="xs"===l?12:9,O="xs"===l?12:3;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:i.root},r.a.createElement(se.a,{variant:"h2"},"Global Feed from Test base"),r.a.createElement(se.a,{variant:"h5",className:i.subheader},"A place to share knowledge")),r.a.createElement(je.a,{maxWidth:"md",className:i.content},r.a.createElement(oe.a,{container:!0,spacing:2},r.a.createElement(oe.a,{item:!0,xs:v},r.a.createElement(Ue,null),g&&r.a.createElement(xe.a,{disableShrink:!0}),f&&r.a.createElement("div",null,"Error..."),!g&&b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{articles:b.articles}),r.a.createElement(we,{total:b.articlesCount,limit:10,url:s,currentPage:a}))),r.a.createElement(oe.a,{item:!0,xs:O},r.a.createElement(se.a,{variant:"h5",className:i.subheader},"Popular tags"),r.a.createElement(Pe,null)))))})),Be=a(84),De=a.n(Be),Fe=a(83),He=a.n(Fe),_e=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{width:"100%",padding:t.spacing(4),backgroundColor:t.palette.action.disabledBackground,textAlign:"left"},content:{marginTop:t.spacing(2)},header:{marginBottom:t.spacing(2)},subheader:{display:"inline-flex","& > div":{marginLeft:t.spacing(1)}},large:{width:e.spacing(7),height:e.spacing(7)},secondaryText:{color:e.palette.text.secondary},button:{marginLeft:t.spacing(1)}}})),Ge=function(e){var t=Object(n.useContext)(F),a=Object(m.a)(t,1)[0],c=_e(),l=e.match.params.slug,i="/articles/".concat(l),o=re(i),u=Object(m.a)(o,2),d=u[0],p=d.isLoading,E=d.response,b=d.error,f=u[1],v=re(i),O=Object(m.a)(v,2),j=O[0].response,x=O[1],y=Object(n.useState)(!1),k=Object(m.a)(y,2),N=k[0],w=k[1],S=function(){return!(!E||!a.isLoggedIn)&&E.article.author.username===a.currentUser.username},C=function(){x({method:"delete"})};return Object(n.useEffect)((function(){f()}),[f]),Object(n.useEffect)((function(){j&&w(!0)}),[j]),N?r.a.createElement(h.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,p&&r.a.createElement(xe.a,{disableShrink:!0}),b&&r.a.createElement("div",null,"Error..."),!p&&E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:c.root},r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{containerspacing:2},r.a.createElement(oe.a,{item:!0,className:c.header,xs:12},r.a.createElement(se.a,{color:"primary",variant:"h4"},E.article.title)),r.a.createElement(oe.a,{item:!0,xs:12,className:c.subheader},r.a.createElement(s.b,{to:"/profiles/".concat(E.article.author.username)},r.a.createElement(X.a,{alt:"Author avatar",src:E.article.author.image,className:c.large})),r.a.createElement("div",null,r.a.createElement(se.a,{variant:"h5"},r.a.createElement(ie.a,{to:"/profiles/".concat(E.article.author.username),color:"inherit",component:s.b},E.article.author.username)),r.a.createElement("span",{className:c.secondaryText},E.article.createdAt)),r.a.createElement(g.a,{xsDown:!0},S()&&r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(He.a,null),className:c.button,to:"/articles/".concat(E.article.slug,"/edit"),component:s.b},"Edit"),r.a.createElement(pe.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(De.a,null),className:c.button,onClick:C},"Delete")))),r.a.createElement(g.a,{smUp:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:c.subheader},S()&&r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(He.a,null),className:c.button,to:"/articles/".concat(E.article.slug,"/edit"),component:s.b},"Edit"),r.a.createElement(pe.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(De.a,null),className:c.button,onClick:C},"Delete"))))))),r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{containerspacing:2},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("div",null,r.a.createElement("p",null,E.article.body)),r.a.createElement(de,{tags:E.article.tagList}))))))},Re=a(220),Me=a(224),qe=function(e){var t=e.backendErrors,a=Object.keys(t).map((function(e){var a=t[e].join(" ");return"".concat(e," ").concat(a)}));return r.a.createElement(Me.a,{variant:"outlined",severity:"error"},a.map((function(e,t){return r.a.createElement("div",{key:e,style:{textAlign:"left"}},t+1,". ",e)})))},Ve=Object(u.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(4),justifyContent:"center"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},item:{marginBottom:e.spacing(4)}}})),ze=function(e){var t=Ve(),a="/login"===e.match.path,c=a?"Sing In":"Sing Up",l=a?"/register":"/login",i=a?"Need an account?":"Have an account?",o=a?"/users/login":"/users",u=Object(n.useState)(""),d=Object(m.a)(u,2),p=d[0],E=d[1],g=Object(n.useState)(""),b=Object(m.a)(g,2),f=b[0],v=b[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),x=j[0],y=j[1],k=Object(n.useState)(!1),N=Object(m.a)(k,2),w=N[0],S=N[1],C=re(o),P=Object(m.a)(C,2),T=P[0],L=T.isLoading,A=T.response,U=T.error,I=P[1],W=ne("token"),Z=Object(m.a)(W,2)[1],B=Object(n.useContext)(F),D=Object(m.a)(B,2)[1];return Object(n.useEffect)((function(){A&&(Z(A.user.token),S(!0),D({type:"SET_AUTHORIZED",payload:A.user}))}),[A,Z,D]),w?r.a.createElement(h.a,{to:"/"}):r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{container:!0,className:t.root},r.a.createElement(oe.a,{item:!0,md:8,sm:10,xs:12},r.a.createElement(Se.a,{className:t.paper},r.a.createElement(se.a,{variant:"h2",gutterBottom:!0},c),r.a.createElement(ie.a,{to:l,component:s.c},r.a.createElement(se.a,{variant:"h6",gutterBottom:!0},i)),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),I({method:"post",data:{user:a?{email:p,password:f}:{email:p,password:f,username:x}}})}},U&&r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(qe,{backendErrors:U.errors}))),r.a.createElement(oe.a,{container:!0},!a&&r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"user-input",type:"text",label:"Username",variant:"outlined",value:x,onChange:function(e){return y(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"email-input",label:"Email",type:"email",variant:"outlined",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"password-input",label:"Password",type:"password",variant:"outlined",value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(pe.a,{variant:"contained",size:"large",type:"submit",color:"primary",disabled:L},c))))))))},Je=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{width:"100%",padding:t.spacing(4),backgroundColor:t.palette.action.disabledBackground,textAlign:"center"},content:{marginTop:t.spacing(4)},subheader:{color:t.palette.primary.main}}})),Ye=Object(Ie.a)()((function(e){var t=e.match.params.slug,a=e.width,c=K(e.location.search),l=c.currentPage,i=c.offset,o=Je(),s=Object(Y.stringify)({limit:10,offset:i,tag:t}),u=e.match.url,d="/articles?".concat(s),p=re(d),E=Object(m.a)(p,2),g=E[0],b=g.isLoading,f=g.response,h=g.error,v=E[1];Object(n.useEffect)((function(){v()}),[v,l,t]);var O="xs"===a?12:9,j="xs"===a?12:3;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:o.root},r.a.createElement(se.a,{variant:"h2"},"Global Feed from Test base"),r.a.createElement(se.a,{variant:"h5",className:o.subheader},"A place to share knowledge")),r.a.createElement(je.a,{maxWidth:"md",className:o.content},r.a.createElement(oe.a,{container:!0,spacing:2},r.a.createElement(oe.a,{item:!0,xs:O},r.a.createElement(Ue,{tagName:t}),b&&r.a.createElement(xe.a,{disableShrink:!0}),h&&r.a.createElement("div",null,"Error..."),!b&&f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{articles:f.articles}),r.a.createElement(we,{total:f.articlesCount,limit:10,url:u,currentPage:l}))),r.a.createElement(oe.a,{item:!0,xs:j},r.a.createElement(se.a,{variant:"h5",className:o.subheader},"Popular tags"),r.a.createElement(Pe,null)))))})),Ke=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{width:"100%",padding:t.spacing(4),backgroundColor:t.palette.action.disabledBackground,textAlign:"center"},content:{marginTop:t.spacing(4)},subheader:{color:t.palette.primary.main}}})),Qe=Object(Ie.a)()((function(e){var t=K(e.location.search),a=t.currentPage,c=t.offset,l=e.width,i=Ke(),o=Object(Y.stringify)({limit:10,offset:c}),s=e.match.url,u="/articles/feed?".concat(o),d=re(u),p=Object(m.a)(d,2),E=p[0],g=E.isLoading,b=E.response,f=E.error,h=p[1];Object(n.useEffect)((function(){h()}),[h,a]);var v="xs"===l?12:9,O="xs"===l?12:3;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:i.root},r.a.createElement(se.a,{variant:"h2"},"Global Feed from Test base"),r.a.createElement(se.a,{variant:"h5",className:i.subheader},"A place to share knowledge")),r.a.createElement(je.a,{maxWidth:"md",className:i.content},r.a.createElement(oe.a,{container:!0,spacing:2},r.a.createElement(oe.a,{item:!0,xs:v},r.a.createElement(Ue,null),g&&r.a.createElement(xe.a,{disableShrink:!0}),f&&r.a.createElement("div",null,"Error..."),!g&&b&&r.a.createElement(r.a.Fragment,null,!b.articles.articlesCount&&r.a.createElement("div",null,"No articles are here... yet.'"),r.a.createElement(ve,{articles:b.articles}),r.a.createElement(we,{total:b.articlesCount,limit:10,url:s,currentPage:a}))),r.a.createElement(oe.a,{item:!0,xs:O},r.a.createElement(se.a,{variant:"h5",className:i.subheader},"Popular tags"),r.a.createElement(Pe,null)))))})),Xe=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{flexGrow:1,marginTop:t.spacing(4),justifyContent:"center"},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary},item:{marginBottom:t.spacing(4)}}})),$e=function(e){var t=e.onSubmit,a=e.errors,c=e.initialValues,l=Xe(),i=Object(n.useState)(""),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),E=p[0],g=p[1],b=Object(n.useState)(""),f=Object(m.a)(b,2),h=f[0],v=f[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),x=j[0],y=j[1];return Object(n.useEffect)((function(){c&&(u(c.title),v(c.description),g(c.body),y(c.tagList.join(" ")))}),[c]),r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{container:!0,className:l.root},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(Se.a,{className:l.paper},r.a.createElement(se.a,{variant:"h2",gutterBottom:!0},"Article Form"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={title:s,description:h,body:E,tagList:x.split(" ")};t(a)}},a&&r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:l.item},r.a.createElement(qe,{backendErrors:a}))),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:l.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"title",type:"text",label:"Article title",variant:"outlined",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:l.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"description",type:"text",label:"What is article about?",variant:"outlined",value:h,onChange:function(e){return v(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:l.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"body",multiline:!0,rows:8,label:"Write your article",variant:"outlined",value:E,onChange:function(e){return g(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:l.item},r.a.createElement(Re.a,{fullWidth:!0,id:"tagList",type:"text",label:"Enter tags",variant:"outlined",value:x,onChange:function(e){return y(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(pe.a,{variant:"contained",size:"large",type:"submit",color:"primary"},"Publish Article"))))))))},et=function(){var e=re("/articles"),t=Object(m.a)(e,2),a=t[0],c=a.response,l=a.error,i=t[1],o=Object(n.useContext)(F),s=Object(m.a)(o,1)[0],u=Object(n.useState)(!1),d=Object(m.a)(u,2),p=d[0],E=d[1];return Object(n.useEffect)((function(){c&&E(!0)}),[c]),!1===s.isLoggedIn?r.a.createElement(h.a,{to:"/"}):p?r.a.createElement(h.a,{to:"/articles/".concat(c.article.slug)}):r.a.createElement("div",null,r.a.createElement($e,{errors:l&&l.errors||"",initialValues:{title:"",body:"",description:"",tagList:[]},onSubmit:function(e){i({method:"post",data:{article:e}})}}))},tt=function(e){var t=e.match.params.slug,a="/articles/".concat(t),c=re(a),l=Object(m.a)(c,2),i=l[0].response,o=l[1],s=re(a),u=Object(m.a)(s,2),d=u[0],p=d.response,E=d.error,g=u[1],b=Object(n.useState)(null),f=Object(m.a)(b,2),v=f[0],O=f[1],j=Object(n.useState)(!1),x=Object(m.a)(j,2),y=x[0],k=x[1],N=Object(n.useContext)(F),w=Object(m.a)(N,1)[0];return Object(n.useEffect)((function(){o()}),[o]),Object(n.useEffect)((function(){i&&O({title:i.article.title,body:i.article.body,description:i.article.description,tagList:i.article.tagList})}),[i]),Object(n.useEffect)((function(){p&&k(!0)}),[p]),!1===w.isLoggedIn?r.a.createElement(h.a,{to:"/"}):y?r.a.createElement(h.a,{to:"/articles/".concat(t)}):r.a.createElement("div",null,v&&r.a.createElement($e,{onSubmit:function(e){g({method:"put",data:{article:e}})},errors:E&&E.errors||"",initialValues:v}))},at=a(112),nt=a.n(at),rt=Object(u.a)((function(e){var t=Object(i.a)(e);return{root:{flexGrow:1,marginTop:t.spacing(4),justifyContent:"center"},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary},logout:{marginTop:t.spacing(4),textAlign:"center"},item:{marginBottom:t.spacing(4)}}})),ct=function(e){var t=rt(),a=Object(n.useContext)(F),c=Object(m.a)(a,2),l=c[0],i=c[1],o=re("/user"),s=Object(m.a)(o,2),u=s[0],d=u.response,p=u.error,E=s[1],g=Object(n.useState)(""),b=Object(m.a)(g,2),f=b[0],v=b[1],O=Object(n.useState)(""),j=Object(m.a)(O,2),x=j[0],y=j[1],k=Object(n.useState)(""),N=Object(m.a)(k,2),w=N[0],S=N[1],C=Object(n.useState)(""),P=Object(m.a)(C,2),T=P[0],L=P[1],A=Object(n.useState)(""),U=Object(m.a)(A,2),I=U[0],W=U[1],B=ne("token"),D=Object(m.a)(B,2)[1],H=Object(n.useState)(!1),_=Object(m.a)(H,2),G=_[0],R=_[1];return Object(n.useEffect)((function(){l.currentUser&&(v(l.currentUser.image),y(l.currentUser.username),S(l.currentUser.bio||""),L(l.currentUser.email))}),[l.currentUser]),Object(n.useEffect)((function(){d&&i({type:"SET_AUTHORIZED",payload:d.user})}),[d,i]),G?r.a.createElement(h.a,{to:"/"}):r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{container:!0,className:t.root},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(Se.a,{className:t.paper},r.a.createElement(se.a,{variant:"h2",gutterBottom:!0},"Your settings"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E({method:"put",data:{user:Object(Z.a)({},l.currentUser,{image:f,username:x,bio:w,password:I})}})}},p&&r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(qe,{backendErrors:p.errors}))),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{fullWidth:!0,id:"avatar",type:"text",label:"Url of profile picture",variant:"outlined",value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"name",type:"text",label:"Username",variant:"outlined",value:x,onChange:function(e){return y(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{fullWidth:!0,id:"bio",multiline:!0,rows:8,label:"Short bio",variant:"outlined",value:w,onChange:function(e){return S(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"email-input",label:"Email",type:"email",variant:"outlined",value:T,onChange:function(e){return L(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12,className:t.item},r.a.createElement(Re.a,{required:!0,fullWidth:!0,id:"password-input",label:"Password",type:"password",variant:"outlined",value:I,onChange:function(e){return W(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(pe.a,{variant:"contained",size:"large",type:"submit",color:"primary"},"Save"))))),r.a.createElement("div",{className:t.logout},r.a.createElement(pe.a,{variant:"outlined",color:"secondary",startIcon:r.a.createElement(nt.a,null),onClick:function(e){e.preventDefault(),D(""),i({type:"LOGOUT"}),R(!0)}},"Logout")))))},lt=Object(u.a)((function(e){return{root:{marginBottom:e.spacing(2)},tabs:{borderBottom:"1px solid ".concat(e.palette.divider)}}})),it=Object(Te.a)((function(e){return{indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > div ":{maxWidth:40,maxHeight:1,width:"100%",backgroundColor:e.palette.primary.main}}}}))((function(e){return r.a.createElement(I.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("div",null)}}))})),ot=function(e){var t=e.myPosts,a=e.favoritesPosts,n=lt(),c=Object(h.g)();return r.a.createElement("div",{className:n.root},r.a.createElement(it,{value:c.pathname,"aria-label":"PostsToggler",className:n.tabs},r.a.createElement(W.a,{label:"Posts",to:t,value:t,exact:!0,component:s.c}),r.a.createElement(W.a,{label:"Favorites Posts",to:a,value:a,component:s.c})))},st=function(e){var t=e.username,a=e.location,c=e.isFavorites,l=e.url,i=K(a.search),o=i.offset,s=i.currentPage,u=function(e){var t=e.username,a=e.offset,n=e.isFavorites?{limit:10,offset:a,favorited:t}:{limit:10,offset:a,author:t};return"/articles?".concat(Object(Y.stringify)(n))}({username:t,offset:o,isFavorites:c}),d=re(u),p=Object(m.a)(d,2),E=p[0],g=E.response,b=E.isLoading,f=E.error,h=p[1];return Object(n.useEffect)((function(){h()}),[h,c,s]),r.a.createElement("div",null,b&&r.a.createElement(xe.a,{disableShrink:!0}),f&&r.a.createElement("div",null,"Error..."),!b&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{articles:g.articles}),r.a.createElement(we,{total:g.articlesCount,limit:10,url:l,currentPage:s})))},mt=Object(u.a)((function(e){return{root:{width:"100%",padding:e.spacing(6),backgroundColor:e.palette.action.disabledBackground,display:"flex",textAlign:"center"},content:{marginTop:e.spacing(2)},header:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},large:{width:e.spacing(16),height:e.spacing(16)},secondaryText:{color:e.palette.text.secondary},button:{marginLeft:e.spacing(1)}}})),ut=function(e){var t=e.location,a=e.match,c=mt(),l=a.params.slug,i=t.pathname.includes("favorites"),o="/profiles/".concat(l),s=re(o),u=Object(m.a)(s,2),d=u[0],p=d.response,E=d.isLoading,g=d.error,b=u[1];return Object(n.useEffect)((function(){b()}),[b,l]),p?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:c.root},r.a.createElement(je.a,{maxWidth:"md"},r.a.createElement(oe.a,{containerspacing:2},r.a.createElement(oe.a,{item:!0,xs:12,className:c.header},r.a.createElement(X.a,{alt:"User avatar",src:p.profile.image,className:c.large})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(se.a,{color:"inherit",variant:"h4"},p.profile.username)),r.a.createElement(oe.a,{item:!0,className:c.secondaryText,xs:12},r.a.createElement(se.a,{color:"inherit",variant:"subtitle1"},p.profile.bio))))),E&&r.a.createElement(xe.a,{disableShrink:!0}),g&&r.a.createElement("div",null,"Error..."),!E&&p&&l===p.profile.username&&r.a.createElement(je.a,{maxWidth:"md",className:c.content},r.a.createElement(oe.a,{container:!0,spacing:2},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(ot,{myPosts:"/profiles/".concat(p.profile.username),favoritesPosts:"/profiles/".concat(p.profile.username,"/favorites")})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(st,{username:p.profile.username,location:t,isFavorites:i,url:t.pathname}))))):null},dt=function(){return r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",component:Ze,exact:!0}),r.a.createElement(h.b,{path:"/profiles/:slug",component:ut,exact:!0}),r.a.createElement(h.b,{path:"/profiles/:slug/favorites",component:ut}),r.a.createElement(h.b,{path:"/settings",component:ct}),r.a.createElement(h.b,{path:"/articles/new",component:et}),r.a.createElement(h.b,{path:"/articles/:slug/edit",component:tt}),r.a.createElement(h.b,{path:"/feed",component:Qe}),r.a.createElement(h.b,{path:"/tags/:slug",component:Ye}),r.a.createElement(h.b,{path:"/login",component:ze}),r.a.createElement(h.b,{path:"/register",component:ze}),r.a.createElement(h.b,{path:"/articles/:slug",component:Ge}))},pt=a(216),Et=a(217),gt=a(219),bt=function(e){var t=e.children,a=Object(n.useContext)(F),r=Object(m.a)(a,2)[1],c=re("/user"),l=Object(m.a)(c,2),i=l[0].response,o=l[1],s=ne("token"),u=Object(m.a)(s,1)[0];return Object(n.useEffect)((function(){u?(o(),r({type:"LOADING"})):r({type:"SET_UNAUTHORIZED"})}),[u,r,o]),Object(n.useEffect)((function(){i&&r({type:"SET_AUTHORIZED",payload:i.user})}),[i,r]),t},ft=function(){var e=Object(l.a)({palette:{type:"dark",primary:pt.a,secondary:Et.a}}),t=Object(i.a)(e);return r.a.createElement("div",null,r.a.createElement(s.a,{basename:"/"},r.a.createElement(H,null,r.a.createElement(bt,null,r.a.createElement(o.a,{theme:t},r.a.createElement(gt.a,null),r.a.createElement(ee,null),r.a.createElement(dt,null))))))};Object(c.render)(r.a.createElement(ft,null),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.a946b305.chunk.js.map